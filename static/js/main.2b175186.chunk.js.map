{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","state","scrollAmount","slideRight","scrollLength","props","step","itemWidth","fieldLength","images","length","lastFrame","frameSize","setState","prevState","slideLeft","this","animationDuration","infinite","fieldWidth","maxScroll","console","log","className","type","onClick","disabled","style","width","height","left","transition","map","image","i","src","alt","Component","App","changeFrameSize","event","target","value","changeFrameStep","changeItemWidth","changeAnimationDuration","changeInfinite","blockInput","preventDefault","min","max","onInput","onKeyDown","checked","onChange","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2b175186.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[],\n  step: number,\n  frameSize: number,\n  itemWidth: number,\n  animationDuration: number,\n  infinite: boolean,\n};\n\ntype State = {\n  scrollAmount: number,\n};\n\nexport class Carousel extends Component<Props, State> {\n  state = {\n    scrollAmount: 0,\n  };\n\n  slideRight = () => {\n    let scrollLength = this.props.step * this.props.itemWidth;\n    const fieldLength = this.props.itemWidth * this.props.images.length;\n    const lastFrame = this.props.frameSize * this.props.itemWidth;\n\n    this.setState((prevState) => {\n      if (prevState.scrollAmount + lastFrame >= fieldLength) {\n        return { scrollAmount: 0 };\n      }\n\n      if (prevState.scrollAmount + scrollLength >= fieldLength - lastFrame) {\n        scrollLength = fieldLength - prevState.scrollAmount - lastFrame\n          || this.props.itemWidth;\n      }\n\n      return { scrollAmount: prevState.scrollAmount + scrollLength };\n    });\n  };\n\n  slideLeft = () => {\n    let scrollLength = this.props.step * this.props.itemWidth;\n    const fieldLength = this.props.itemWidth * this.props.images.length;\n    const lastFrame = this.props.frameSize * this.props.itemWidth;\n\n    this.setState((prevState) => {\n      if (prevState.scrollAmount <= 0) {\n        return { scrollAmount: fieldLength - lastFrame };\n      }\n\n      if (prevState.scrollAmount - scrollLength < 0) {\n        scrollLength = prevState.scrollAmount;\n      }\n\n      return { scrollAmount: prevState.scrollAmount - scrollLength };\n    });\n  };\n\n  render() {\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n    const { scrollAmount } = this.state;\n    const fieldWidth = frameSize * itemWidth;\n    const maxScroll = itemWidth * images.length;\n\n    // eslint-disable-next-line no-console,max-len\n    console.log(step, frameSize, itemWidth, animationDuration, infinite, this.state.scrollAmount);\n\n    return (\n      <div className=\"wrapper\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={this.slideLeft}\n          disabled={!this.props.infinite\n            && scrollAmount === 0}\n        >\n          Prev\n        </button>\n        <div\n          className=\"carousel\"\n          style={{\n            width: `${fieldWidth}px`,\n            height: `${itemWidth}px`,\n          }}\n        >\n          <ul\n            className=\"carousel__list\"\n            style={{\n              left: `-${scrollAmount}px`,\n              transition: `${animationDuration}ms`,\n            }}\n          >\n            {images.map((image, i) => (\n              <li\n                key={image}\n              >\n                <img\n                  src={image}\n                  alt={`pic #${i}`}\n                  style={{\n                    width: `${itemWidth}px`,\n                  }}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n        <button\n          type=\"button\"\n          className=\"button\"\n          data-cy=\"next\"\n          onClick={this.slideRight}\n          disabled={!this.props.infinite\n            && scrollAmount === maxScroll - fieldWidth}\n        >\n          Next\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { ChangeEvent, KeyboardEvent } from 'react';\nimport './App.scss';\nimport { Carousel } from './components/Carousel';\n\ninterface State {\n  images: string[];\n  step: number,\n  frameSize: number,\n  itemWidth: number,\n  animationDuration: number,\n  infinite: boolean,\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    step: 3,\n    frameSize: 3,\n    itemWidth: 130,\n    animationDuration: 1000,\n    infinite: false,\n\n  };\n\n  changeFrameSize = (event: ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      frameSize: +event.target.value,\n    });\n  };\n\n  changeFrameStep = (event: ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      step: +event.target.value,\n    });\n  };\n\n  changeItemWidth = (event: ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      itemWidth: +event.target.value,\n    });\n  };\n\n  changeAnimationDuration = (event: ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      animationDuration: +event.target.value,\n    });\n  };\n\n  changeInfinite = () => {\n    this.setState((prevState) => (\n      { infinite: !prevState.infinite }\n    ));\n  };\n\n  blockInput = (event: KeyboardEvent<HTMLInputElement>) => {\n    event.preventDefault();\n  };\n\n  render() {\n    const { images } = this.state;\n\n    return (\n      <>\n        <div className=\"App\">\n          <h1 data-cy=\"title\">{`Carousel with ${images.length} images`}</h1>\n          <Carousel\n            images={images}\n            step={this.state.step}\n            frameSize={this.state.frameSize}\n            itemWidth={this.state.itemWidth}\n            animationDuration={this.state.animationDuration}\n            infinite={this.state.infinite}\n          />\n        </div>\n\n        <div className=\"settings\">\n          <h3>Carousel settings:</h3>\n          <label>\n            Item Width:\n            <input\n              type=\"number\"\n              min=\"1\"\n              max={`${images.length}`}\n              value={this.state.frameSize}\n              onInput={this.changeFrameSize}\n              onKeyDown={this.blockInput}\n            />\n          </label>\n\n          <label>\n            Scrolling step:\n            <input\n              type=\"number\"\n              min=\"1\"\n              max={`${images.length}`}\n              value={this.state.step}\n              onInput={this.changeFrameStep}\n              onKeyDown={this.blockInput}\n            />\n          </label>\n\n          <label>\n            Item width:\n            <input\n              type=\"number\"\n              min=\"50\"\n              max=\"250\"\n              step=\"10\"\n              value={this.state.itemWidth}\n              onInput={this.changeItemWidth}\n              onKeyDown={this.blockInput}\n            />\n          </label>\n\n          <label>\n            Animation duration(ms):\n            <input\n              type=\"number\"\n              min=\"0\"\n              max=\"5000\"\n              step=\"500\"\n              value={this.state.animationDuration}\n              onInput={this.changeAnimationDuration}\n              onKeyDown={this.blockInput}\n            />\n          </label>\n\n          <label>\n            Infinite scroll:\n            <input\n              type=\"checkbox\"\n              checked={this.state.infinite}\n              onChange={this.changeInfinite}\n            />\n          </label>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}